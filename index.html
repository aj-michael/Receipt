<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Receipts</title>

  <link type="text/css" rel="stylesheet" href="css/normalize.css" />
  <link type="text/css" rel="stylesheet" href="css/style.css" />
  <link type="text/css" rel="stylesheet" href="http://yui.yahooapis.com/pure/0.5.0/pure-min.css" />
</head>

<body>

  <script type="text/x-handlebars" id="receipts">
    <section id="receiptsapp">
      <header id="header">
        <h1>receipts</h1>
      </header>
    <table class="pure-table pure-table-horizontal" align="center">
      <thead>
        <tr>
          <th width="150">user</th>
          <th width="150">cost</th>
          <th>description</th>
        </tr>
      </thead>
      <tbody>
        {{#each}}
          <tr>
            <td>{{user}}</td>
            <td>{{money cost}}</td>
            <td>{{description}}</td>
          </tr>
        {{/each}}
      </tbody>
    </table>
    <div class="wrapper"><br><br><h3>
      <button {{action 'openModal' 'modal' model}} class="pure-button">new receipt</button></h3>
    </div>
    {{outlet}}
    </section>
  </script>

  <script type="text/x-handlebars">
    {{outlet}}
    {{outlet modal}}
  </script>

  <script type="text/x-handlebars" data-template-name="modal">
    {{#modal-dialog action="close"}}
      <h3 class="flush--top">new receipt
      <button {{action "close"}} class="pure-button header-button">done</button></h3>
      <p>{{input value=user placeholder="user"}}</p>
      <p>{{input value=cost placeholder="12.50"}}</p>
      <p>{{input value=description placeholder="description" insert-newline="close"}}</p>
    {{/modal-dialog}}
  </script>

  <script type="text/x-handlebars" id="components/modal-dialog">
    <div class="overlay" {{action "close"}}></div>
    <div class="modal">{{yield}}</div>
  </script>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/2.0.0/handlebars.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ember.js/1.9.1/ember.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ember-data.js/1.0.0-beta.14.1/ember-data.min.js"></script>
  <script src="https://cdn.firebase.com/js/client/2.1.0/firebase.js"></script>
  <script src="https://cdn.firebase.com/libs/emberfire/1.3.2/emberfire.min.js"></script>
  <script src="js/app.js"></script>
  <script src="js/router.js"></script>
  <script src="js/models/receipt.js"></script>
  <script src="js/models/user.js"></script>
  <script src="js/controllers/receipt_controller.js"></script>
  <script src="js/controllers/receipts_controller.js"></script>
  <script src="js/helpers/money.js"></script>
</body>
</html>
